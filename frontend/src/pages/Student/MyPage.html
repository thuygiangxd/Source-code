<!DOCTYPE html>
<html lang="vi">

<head>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;700&display=swap" rel="stylesheet">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gia S∆∞ Tr·ª±c Tuy·∫øn ‚Äì N·ªÅn t·∫£ng h·ªçc t·∫≠p</title>
  <meta name="description" content="N·ªÅn t·∫£ng h·ªçc tr·ª±c tuy·∫øn: kho√° luy·ªán thi, b·ªìi d∆∞·ª°ng ki·∫øn th·ª©c, theo d√µi ti·∫øn ƒë·ªô." />
  <link rel="stylesheet" href="./MyPage.css" />
</head>

<body>
  <header class="site-header">
    <div class="header-inner">
      <a class="brand" href="#">
        <img class="brand-logo" src="../../assets/images/Logo_Group.png" alt="G&3N Logo" />
        <span>GIASUNO1</span>
      </a>
      <nav>
        <div class="nav">
          <a href="#khoahoc">Trang ch·ªß</a>
          <a href="#giaovien">Gi√°o vi√™n</a>
          <a href="#luyenthi">Luy·ªán thi</a>
          <a href="#tuyendung">Tuy·ªÉn d·ª•ng</a>
          <a href="#blog">H·ªó tr·ª£</a>
          <details class="user-mini" aria-label="T√πy ch·ªçn t√†i kho·∫£n">
          <summary class="avatar-btn" aria-haspopup="menu" aria-expanded="false">
            <img src="../images/avatar.jpg" alt="·∫¢nh ƒë·∫°i di·ªán" />
            <div class="u-meta">
              <div class="nm" id="userName">Cao Th√πy Giang</div>
              <div class="uid">M√£ HV: 52200138</div>
            </div>
            <svg class="chev" width="16" height="16" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </summary>

            <div class="user-popover" role="menu">
            <a role="menuitem" href="#thong-tin" class="mi">
                <svg class="mi-ico" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5Zm0 2c-4.4 0-8 2.24-8 5v1h16v-1c0-2.76-3.6-5-8-5Z"
                        fill="currentColor"/>
                </svg>
                Qu·∫£n l√Ω th√¥ng tin
            </a>

             <a role="menuitem" href="#khoa-hoc-cua-toi" class="mi">
                <svg class="mi-ico" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M4 19h16V5H4v14Zm2-2V7h12v10H6Zm3-2h6v-2H9v2Z"
                        fill="currentColor"/>
                </svg>
                Kh√≥a h·ªçc c·ªßa t√¥i
            </a>

            <a role="menuitem" href="#lich-su-thanh-toan" class="mi">
              <svg class="mi-ico" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M21 7H3V5h18v2ZM3 9h18v10H3V9Zm2 2v6h14v-6H5Zm2 2h4v2H7v-2Z" fill="currentColor"/>
              </svg>
              L·ªãch s·ª≠ thanh to√°n
            </a>

            <a role="menuitem" href="#doi-mat-khau" class="mi">
                <svg class="mi-ico" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M17 8V6a5 5 0 0 0-10 0v2H5a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2h-2Zm-8 0V6a3 3 0 0 1 6 0v2H9Z"
                        fill="currentColor"/>
                </svg>
                ƒê·ªïi m·∫≠t kh·∫©u
            </a>

            <hr class="menu-divider" />

            <button role="menuitem" type="button" class="mi link-danger" id="btnSignOut">
                <svg class="mi-ico" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M10 17v2H4a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h6v2H5v10h5Zm9.59-5-3-3L17 7l5 5-5 5-1.41-2 3-3H11v-2h8.59Z"
                        fill="currentColor"/>
                </svg>
                ƒêƒÉng xu·∫•t
            </button>
            </div>

        </details>

        </div>
      </nav>
      <button class="menu-btn" aria-label="M·ªü menu">
        <svg width="22" height="22" viewBox="0 0 24 24" fill="none"
          xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <path d="M4 7h16M4 12h16M4 17h16" stroke="#111" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>
    </div>
  </header>

  <main>
    <!-- Layout -->
  <div class="shell">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="user-mini">
        <img src="../images/avatar.jpg" alt="avatar"/>
        <div>
          <div class="nm">Giang Th√πy</div>
          <div style="font-size:12px;color:var(--muted)">H·∫°ng: Silver</div>
        </div>
      </div>

      <nav class="side-nav">
        <a class="side-link" href="#dashboard">Dashboard</a>
        <a class="side-link is-active" href="#mypage">Trang ch·ªß</a>
        <a class="side-link" href="#schedule">L·ªãch h·ªçc</a>
        <a class="side-link" href="#courses">Danh s√°ch kh√≥a h·ªçc</a>
      </nav>
    </aside>

    <!-- Main -->
    <main class="content-area">
  <!-- DASHBOARD -->
  <section id="dashboard" class="content-section">
    <h2>T·ªïng quan h·ªçc t·∫≠p</h2>
    <div class="stats-grid">
      <div class="stat-card">
        <h4>Kh√≥a h·ªçc ƒë√£ ƒëƒÉng k√Ω</h4>
        <p class="big">4</p>
      </div>
      <div class="stat-card">
        <h4>Ti·∫øn ƒë·ªô trung b√¨nh</h4>
        <p class="big">52%</p>
      </div>
      <div class="stat-card">
        <h4>S·ªë gi·ªù ƒë√£ h·ªçc</h4>
        <p class="big">38h</p>
      </div>
    </div>

    <h3>Kh√≥a h·ªçc g·∫ßn ƒë√¢y</h3>
    <div class="course-grid">
      <div class="course-card">
        <h4>Nh·∫≠p m√¥n B·∫£o m·∫≠t th√¥ng tin</h4>
        <div class="progress"><div style="width:9%"></div></div>
        <p>Ho√†n th√†nh: 9%</p>
      </div>
      <div class="course-card">
        <h4>L·∫≠p tr√¨nh Python c∆° b·∫£n</h4>
        <div class="progress"><div style="width:67%"></div></div>
        <p>Ho√†n th√†nh: 67%</p>
      </div>
    </div>
  </section>

  <!-- TRANG CH·ª¶ -->
  <section id="mypage" class="content-section active">
    <h2>üè† Trang ch·ªß</h2>
    <p>Ch√†o m·ª´ng b·∫°n quay l·∫°i, <strong>Giang Th√πy</strong>! üå∏</p>
    <div class="notice">
      <h4>Th√¥ng b√°o m·ªõi</h4>
      <ul>
        <li>üìÖ L·ªãch h·ªçc tu·∫ßn n√†y ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t.</li>
        <li>üìò C√≥ 1 b√†i t·∫≠p m·ªõi trong m√¥n ‚ÄúPython c∆° b·∫£n‚Äù.</li>
        <li>üí¨ Th·∫ßy Minh ƒë√£ ph·∫£n h·ªìi c√¢u h·ªèi c·ªßa b·∫°n trong Di·ªÖn ƒë√†n.</li>
      </ul>
    </div>
  </section>

  <!-- L·ªäCH H·ªåC -->
  <section id="schedule" class="content-section">
    <h2>üóìÔ∏è L·ªãch h·ªçc</h2>
    <table class="schedule-table">
      <tr><th>Ng√†y</th><th>M√¥n h·ªçc</th><th>Gi·ªù h·ªçc</th><th>Gi·∫£ng vi√™n</th></tr>
      <tr><td>Th·ª© 2</td><td>Python c∆° b·∫£n</td><td>07:30 - 09:30</td><td>Nguy·ªÖn Minh</td></tr>
      <tr><td>Th·ª© 4</td><td>B·∫£o m·∫≠t th√¥ng tin</td><td>09:40 - 11:40</td><td>Tr·∫ßn Anh</td></tr>
      <tr><td>Th·ª© 6</td><td>Machine Learning</td><td>13:00 - 15:00</td><td>L√™ Huy</td></tr>
    </table>
  </section>

  <!-- DANH S√ÅCH KH√ìA H·ªåC -->
  <section id="courses" class="content-section">
    <h2>üìö Danh s√°ch kh√≥a h·ªçc</h2>
    <div class="course-list">
      <div class="course-item">
        <h4>Nh·∫≠p m√¥n B·∫£o m·∫≠t th√¥ng tin</h4>
        <span>Ti·∫øn ƒë·ªô: 9%</span>
      </div>
      <div class="course-item">
        <h4>L·∫≠p tr√¨nh Python c∆° b·∫£n</h4>
        <span>Ti·∫øn ƒë·ªô: 67%</span>
      </div>
      <div class="course-item">
        <h4>Machine Learning n√¢ng cao</h4>
        <span>Ti·∫øn ƒë·ªô: 42%</span>
      </div>
      <div class="course-item">
        <h4>Ph√¢n t√≠ch d·ªØ li·ªáu v·ªõi SQL</h4>
        <span>Ti·∫øn ƒë·ªô: 80%</span>
      </div>
    </div>
  </section>

  <!-- PANEL CHI TI·∫æT KH√ìA H·ªåC -->
  <section id="courseDetail" class="content-section" style="display:none;">
    <div class="course-hero">
      <h1 id="cTitle">‚Äî</h1>
    </div>
    <div class="course-shell">
      <div class="section">
        <h3>üé• H·ªçc online</h3>
        <div class="card">
          <div class="hstack">
            <button class="btn btn-primary" onclick="openMeeting()">V√†o ph√≤ng h·ªçc (Meet/Zoom)</button>
          </div>
        </div>
      </div>

      <div class="section">
        <h3>üìö Slides</h3>
        <div class="resource-list" id="slideList"></div>
      </div>

      <div class="section">
        <h3>üìù B√†i t·∫≠p</h3>
        <div class="resource-list" id="exerciseList"></div>
      </div>
  </section>

  <!-- PANEL N·ªòP B√ÄI -->
  <section id="submitPanel" class="content-section" style="display:none;">
    <div class="course-hero">
      <h1 id="exerciseTitle">üìù N·ªôp b√†i t·∫≠p</h1>
    </div>

    <div class="card" style="max-width:720px; margin:auto;">
      <div class="field field--full">
        <label><strong>N·ªôi dung b√†i t·∫≠p</strong></label>
        <div id="exerciseDesc">‚Äî</div>
      </div>

      <div class="field field--full">
        <label><strong>Tr·∫°ng th√°i n·ªôp b√†i</strong></label>
        <p><strong>Tr·∫°ng th√°i n·ªôp b√†i:</strong> <span id="submissionStatus">‚Äî</span></p>
        <p><strong>ƒêi·ªÉm:</strong> <span id="gradingStatus">‚Äî</span></p>
        <p><strong>Ng√†y ƒë·∫øn h·∫°n:</strong> <span id="dueDate">‚Äî</span></p>
        <p><strong>Th·ªùi gian c√≤n l·∫°i:</strong> <span id="timeRemaining">‚Äî</span></p>
        <p><strong>Ch·ªânh s·ª≠a l·∫ßn cu·ªëi:</strong> <span id="lastModified">-</span></p>
      </div>

      <div class="field field--full">
        <label><strong>File n·ªôp b√†i</strong></label>
        <input type="file" id="submitFile" />
      </div>

      <div class="field field--full">
        <label><strong>Ghi ch√∫</strong></label>
        <textarea id="commentBox" placeholder="Th√™m ghi ch√∫..."></textarea>
        <button class="saveNote-btn" id="saveCommentBtn" title="L∆∞u ghi ch√∫" onclick="saveComment()">L∆∞u</button>
      </div>

      <div class="modal-actions">
        <button class="btn-ghost" onclick="backToCourseDetail()">Quay l·∫°i kh√≥a h·ªçc</button>
        <button class="btn-primary" onclick="submitHomeworkPanel()">N·ªôp b√†i</button>
      </div>
    </div>
  </section>

  <!-- PANEL QU·∫¢N L√ù TH√îNG TIN -->
  <section id="infoPanel" class="content-section" style="display:none;">
    <div class="course-hero">
      <h1>C·∫≠p nh·∫≠t th√¥ng tin c√° nh√¢n</h1>
    </div>

    <div class="card" style="max-width:720px; margin:auto;">
      <h3 style="color:var(--brand); margin-bottom:14px;">Th√¥ng tin c·ªßa Cao Th√πy Giang</h3>

      <form class="form-grid">

        <!-- M√É H·ªåC VI√äN -->
        <div class="field field--full">
          <label>M√£ h·ªçc vi√™n</label>
          <div class="row" style="justify-content: space-between; align-items: center;">
            <input type="text" value="52200138" disabled style="flex:1;" />
          </div>
        </div>

        <!-- H·ªå V√Ä T√äN -->
        <div class="field field--full">
          <label>H·ªç v√† t√™n *</label>
          <div class="row" style="justify-content: space-between; align-items: center;">
            <input type="text" value="Cao Th√πy Giang" style="flex:1;" />
          </div>
        </div>

        <!-- B·∫†N L√Ä -->
        <div class="field">
          <label>B·∫°n l√†</label>
          <div class="row" style="justify-content: space-between; align-items: center;">
            <select class="option">
              <option>H·ªçc sinh</option>
              <option selected>Sinh vi√™n</option>
              <option>Ph·ª• huynh</option>
            </select>
          </div>
        </div>

        <!-- GI·ªöI T√çNH -->
        <div class="field">
          <label>Gi·ªõi t√≠nh</label>
          <div class="row" style="justify-content: space-between; align-items: center;">
            <select class="option">
              <option selected>N·ªØ</option>
              <option>Nam</option>
            </select>
          </div>
        </div>

        <!-- NG√ÄY SINH -->
        <div class="field">
          <label>Ng√†y sinh</label>
          <div class="option" style="justify-content: space-between; align-items: center;">
            <div class="row" style="flex:1; gap:8px;">
              <!-- Ng√†y -->
              <select>
                <option disabled>Ng√†y</option>
                <option>01</option><option>02</option><option>03</option><option>04</option><option>05</option>
                <option>06</option><option>07</option><option selected>08</option><option>09</option><option>10</option>
                <option>11</option><option>12</option><option>13</option><option>14</option><option>15</option>
                <option>16</option><option>17</option><option>18</option><option>19</option><option>20</option>
                <option>21</option><option>22</option><option>23</option><option>24</option><option>25</option>
                <option>26</option><option>27</option><option>28</option><option>29</option><option>30</option><option>31</option>
              </select>

              <!-- Th√°ng -->
              <select>
                <option disabled>Th√°ng</option>
                <option>01</option><option>02</option><option>03</option><option>04</option><option>05</option><option>06</option>
                <option>07</option><option>08</option><option>09</option><option>10</option><option>11</option><option selected>12</option>
              </select>

              <!-- NƒÉm -->
              <select>
                <option disabled>NƒÉm</option>
                <option>1960</option><option>1961</option><option>1962</option><option>1963</option><option>1964</option>
                <option>1965</option><option>1966</option><option>1967</option><option>1968</option><option>1969</option>
                <option>1970</option><option>1971</option><option>1972</option><option>1973</option><option>1974</option>
                <option>1975</option><option>1976</option><option>1977</option><option>1978</option><option>1979</option>
                <option>1980</option><option>1981</option><option>1982</option><option>1983</option><option>1984</option>
                <option>1985</option><option>1986</option><option>1987</option><option>1988</option><option>1989</option>
                <option>1990</option><option>1991</option><option>1992</option><option>1993</option><option>1994</option>
                <option>1995</option><option>1996</option><option>1997</option><option>1998</option><option>1999</option>
                <option>2000</option><option>2001</option><option>2002</option><option>2003</option><option selected>2004</option>
                <option>2005</option><option>2006</option><option>2007</option><option>2008</option><option>2009</option>
                <option>2010</option><option>2011</option><option>2012</option><option>2013</option><option>2014</option>
                <option>2015</option><option>2016</option><option>2017</option><option>2018</option><option>2019</option>
                <option>2020</option><option>2021</option><option>2022</option><option>2023</option><option>2024</option><option>2025</option>
              </select>
            </div>
          </div>
        </div>

        <!-- EMAIL -->
        <div class="field field--full">
          <label>Email</label>
          <div class="row" style="justify-content: space-between; align-items: center;">
            <input type="email" value="caothuygiang@gmail.com" style="flex:1;" />
          </div>
        </div>

        <!-- S·ªê ƒêI·ªÜN THO·∫†I -->
        <div class="option">
          <label>S·ªë ƒëi·ªán tho·∫°i</label>
          <div class="row" style="justify-content: space-between; align-items: center;">
            <input type="tel" value="0987654321" style="flex:1;" />
          </div>
        </div>

        <!-- NG√ÄY ƒêƒÇNG K√ù -->
        <div class="field field--full">
          <label>Ng√†y ƒëƒÉng k√Ω</label>
          <div class="row" style="justify-content: space-between; align-items: center;">
            <input type="text" value="12/03/2024" disabled style="flex:1;" />
          </div>
        </div>

      </form>

      <div class="modal-actions">       
        <button class="btn-ghost" onclick="backToHome()">Quay l·∫°i</button>
        <button class="btn-primary" style="min-width:140px;" onclick="saveUserInfo()">L∆∞u thay ƒë·ªïi</button>
      </div>
    </div>
  </section>

  <!-- PANEL L·ªäCH S·ª¨ THANH TO√ÅN -->
  <section id="paymentHistoryPanel" class="content-section" style="display:none;">
    <div class="course-hero">
      <h1>üí≥ L·ªãch s·ª≠ thanh to√°n</h1>
    </div>

    <div class="card" style="max-width:800px; margin:auto;">
      <div class="balance-box">
        <p><strong>T√†i kho·∫£n ch√≠nh:</strong> <span id="mainBalance" style="color:green;">350,000ƒë</span></p>
        <p><strong>T√†i kho·∫£n khuy·∫øn m√£i:</strong> <span id="bonusBalance" style="color:blue;">50,000ƒë</span></p>
      </div>

      <h3 style="margin-top:20px;">üìú L·ªãch s·ª≠ n·∫°p ti·ªÅn</h3>
      <table class="payment-table">
        <thead>
          <tr>
            <th>STT</th>
            <th>Th·ªùi gian</th>
            <th>S·ªë ti·ªÅn</th>
            <th>H√¨nh th·ª©c n·∫°p</th>
          </tr>
        </thead>
        <tbody id="paymentTableBody"></tbody>
      </table>

      <div class="modal-actions" style="margin-top:20px;">
        <button class="btn-ghost" onclick="backToHome()">Quay l·∫°i</button>
      </div>
    </div>
  </section>

</main>
  </div>
  </main>

  <footer class="footer">
    <p>
    Copyright ¬© 2025 Online Tutor. Developed by
      <button class="invisible-btn">Group 09, TDTU</button>.<br />
    Reproduction or distribution without permission is prohibited.</p>
  </footer>


<script>
window.onload = function () {
  let currentExercise = null;
  const courseData = {
    "Nh·∫≠p m√¥n B·∫£o m·∫≠t th√¥ng tin": [
      { buoi: "Bu·ªïi 1", chuDe: "T·ªïng quan an ninh m·∫°ng", taiLieu: "baomat-buoi1.pdf", baiTap: "bt-buoi1.docx" },
      { buoi: "Bu·ªïi 2", chuDe: "M√£ h√≥a c∆° b·∫£n", taiLieu: "mahoa-buoi2.pdf", baiTap: "bt-buoi2.docx" },
      { buoi: "Bu·ªïi 3", chuDe: "T∆∞·ªùng l·ª≠a & IDS", taiLieu: "firewall-buoi3.pdf", baiTap: "bt-buoi3.docx" }
    ],
    "L·∫≠p tr√¨nh Python c∆° b·∫£n": [
      { buoi: "Bu·ªïi 1", chuDe: "Bi·∫øn & Ki·ªÉu d·ªØ li·ªáu", taiLieu: "python-buoi1.pdf", baiTap: "bt-python1.zip" },
      { buoi: "Bu·ªïi 2", chuDe: "V√≤ng l·∫∑p & ƒêi·ªÅu ki·ªán", taiLieu: "python-buoi2.pdf", baiTap: "bt-python2.zip" },
      { buoi: "Bu·ªïi 3", chuDe: "H√†m & Th∆∞ vi·ªán", taiLieu: "python-buoi3.pdf", baiTap: "bt-python3.zip" }
    ],
    "Machine Learning n√¢ng cao": [
      { buoi: "Bu·ªïi 1", chuDe: "Regression n√¢ng cao", taiLieu: "ml-advance1.pdf", baiTap: "ml-bt1.ipynb" },
      { buoi: "Bu·ªïi 2", chuDe: "Clustering n√¢ng cao", taiLieu: "ml-advance2.pdf", baiTap: "ml-bt2.ipynb" }
    ],
    "Ph√¢n t√≠ch d·ªØ li·ªáu v·ªõi SQL": [
      { buoi: "Bu·ªïi 1", chuDe: "SELECT n√¢ng cao", taiLieu: "sql1.pdf", baiTap: "sql-bt1.sql" },
      { buoi: "Bu·ªïi 2", chuDe: "JOIN t·ªëi ∆∞u", taiLieu: "sql2.pdf", baiTap: "sql-bt2.sql" }
    ]
  };

  const slideFiles = [
    { title: "01 - Introduction to ML-2023", file: "slide1.pdf", done: false },
    { title: "02 - Principle of Machine Learning", file: "slide2.pdf", done: false },
    { title: "03 - K-Nearest-Neighbors algorithm", file: "slide3.pdf", done: false },
    { title: "04 - naive_bayes_classification", file: "slide4.pdf", done: false },
    { title: "05 - Decision tree", file: "slide5.pdf", done: false },
    { title: "06 - Perceptron and Logistic Regression", file: "slide6.pdf", done: false },
    { title: "07 - Neural Networks and Backpropagation Algorithm", file: "slide7.pdf", done: false }
  ];

  const exerciseFiles = [
    { title: "Ex 01 ‚Äì kNN & Bayes", file: "ex1.zip", deadline: "2025-11-18 23:59", submitted: false },
    { title: "Ex 02 ‚Äì Practice set", file: "ex2.zip", deadline: "2025-11-22 23:59", submitted: false },
    { title: "Ex 03 ‚Äì Decision Tree ‚Äì Regression", file: "ex3.zip", submitted: false },
    { title: "Ex 04 ‚Äì Perceptron + ANN", file: "ex4.zip", deadline: "2025-11-15 23:59", submitted: false }
  ];

  const paymentHistory = [
    { time: "2025-10-02 14:23", amount: "200,000ƒë", method: "Momo" },
    { time: "2025-09-15 09:12", amount: "100,000ƒë", method: "Ng√¢n h√†ng" },
    { time: "2025-08-20 20:45", amount: "50,000ƒë", method: "ZaloPay" },
  ];

  // ====== SIDEBAR ======
  const buttons = document.querySelectorAll(".side-nav .side-link");
  const sections = document.querySelectorAll(".content-section");

  buttons.forEach(btn => {
    btn.addEventListener("click", e => {
      e.preventDefault();

      // ·∫®n to√†n b·ªô section
      sections.forEach(sec => sec.style.display = "none");

      // X√≥a tr·∫°ng th√°i active kh·ªèi to√†n b·ªô button
      buttons.forEach(b => b.classList.remove("is-active"));
      btn.classList.add("is-active");

      // L·∫•y id t·ª´ href (vd: #courses)
      const id = btn.getAttribute("href").replace("#", "");

      // Hi·ªÉn th·ªã section t∆∞∆°ng ·ª©ng n·∫øu t·ªìn t·∫°i
      const section = document.getElementById(id);
      if (section) section.style.display = "block";
    });
  });

  // ====== HEADER: KH√ìA H·ªåC C·ª¶A T√îI ======
  document.querySelector('a[href="#khoa-hoc-cua-toi"]').addEventListener("click", e => {
    e.preventDefault();

    // ·∫®n t·∫•t c·∫£ section
    sections.forEach(sec => sec.style.display = "none");

    // G·∫Øn tr·∫°ng th√°i active cho sidebar "Kh√≥a h·ªçc c·ªßa t√¥i"
    buttons.forEach(b => b.classList.remove("is-active"));
    document.querySelector('.side-nav .side-link[href="#courses"]').classList.add("is-active");

    // Hi·ªÉn th·ªã l·∫°i panel kh√≥a h·ªçc
    document.getElementById("courses").style.display = "block";
  });


  // ====== RENDER KHO√Å H·ªåC ======
  document.querySelectorAll("#courses .course-item").forEach(item => {
    item.addEventListener("click", function () {
      const title = this.querySelector("h4").innerText;
      document.getElementById("cTitle").innerText = title;
      currentCourse = title;
      const sessions = courseData[title];
      const slideList = document.getElementById("slideList");
      const exerciseList = document.getElementById("exerciseList");
      slideList.innerHTML = "";
      exerciseList.innerHTML = "";

      sessions.forEach((s, i) => {
        slideList.innerHTML += `
          <div class="resource-item">
            <div class="left">
              <a href="${s.taiLieu}" target="_blank">${s.buoi} ‚Äì ${s.chuDe}</a>
            </div>
          </div>`;
        exerciseList.innerHTML += `
          <div class="resource-item">
            <div class="left">
              <a href="#" onclick="openSubmitPanel('${title}', ${i}); return false;">${s.baiTap}</a>
            </div>
            <div class="right">
              ${s.submitted 
                ? `<span class="submitted-tag">‚úÖ ƒê√£ n·ªôp</span>` 
                : `<span class="pending-tag">‚è≥ Ch∆∞a n·ªôp</span>`}
            </div>
          </div>`;
      });
      sections.forEach(sec => sec.classList.remove("active"));
      document.getElementById("courses").style.display = "none";
      document.getElementById("courseDetail").style.display = "block";
    });
  });

  // ====== PANEL N·ªòP B√ÄI ======
  window.openSubmitPanel = function (courseTitle, index) {
    currentExercise = index;
    currentCourse = courseTitle;
    const exercise = exerciseFiles[index];
    if (!exercise) return;

    document.getElementById("exerciseTitle").innerText = exercise.title || "N·ªôp b√†i t·∫≠p";
    document.getElementById("dueDate").innerText = exercise.deadline || "Kh√¥ng quy ƒë·ªãnh";
    document.getElementById("lastModified").innerText = exercise.lastModified || "-";

    document.getElementById("submissionStatus").innerText = exercise.submitted ? "‚úÖ ƒê√£ n·ªôp b√†i" : "‚è≥ Ch∆∞a n·ªôp b√†i";
    document.getElementById("gradingStatus").innerText = exercise.graded ? "üü¢ ƒê√£ ch·∫•m" : "‚ùå Ch∆∞a ch·∫•m";

    // T√≠nh th·ªùi gian
    const timeRemaining = document.getElementById("timeRemaining");
    if (exercise.deadline) {
      const now = new Date();
      const deadline = new Date(exercise.deadline.replace(" ", "T"));
      const diff = deadline - now;
      if (diff > 0) {
        const d = Math.floor(diff / (1000 * 60 * 60 * 24));
        const h = Math.floor((diff / (1000 * 60 * 60)) % 24);
        timeRemaining.innerText = `‚è∞ C√≤n ${d} ng√†y ${h} gi·ªù`;
        timeRemaining.style.color = "var(--brand)";
      } else {
        const overdue = Math.abs(diff);
        const d = Math.floor(overdue / (1000 * 60 * 60 * 24));
        const h = Math.floor((overdue / (1000 * 60 * 60)) % 24);
        timeRemaining.innerText = `üî¥ Tr·ªÖ ${d} ng√†y ${h} gi·ªù`;
        timeRemaining.style.color = "crimson";
      }
    }

    document.getElementById("commentBox").value = localStorage.getItem(`comment_${index}`) || "";
    document.getElementById("courseDetail").style.display = "none";
    document.getElementById("submitPanel").style.display = "block";
  };

  // ====== N·ªòP B√ÄI ======
  window.submitHomeworkPanel = function () {
    const file = document.getElementById("submitFile").files[0];
    if (!file) return alert("‚ö†Ô∏è B·∫°n ch∆∞a ch·ªçn file ƒë·ªÉ n·ªôp!");
    if (currentExercise === null || !currentCourse) return;

    const ex = courseData[currentCourse][currentExercise];
    ex.submitted = true;
    ex.lastModified = new Date().toLocaleString();

    // C·∫≠p nh·∫≠t panel n·ªôp b√†i
    document.getElementById("submissionStatus").innerText = "‚úÖ ƒê√£ n·ªôp b√†i";
    document.getElementById("lastModified").innerText = ex.lastModified;

    alert("üéâ N·ªôp b√†i th√†nh c√¥ng!");

    // Sau 1s quay l·∫°i chi ti·∫øt kh√≥a h·ªçc v√† hi·ªÉn th·ªã ‚úÖ
    setTimeout(() => {
      document.getElementById("submitPanel").style.display = "none";
      document.getElementById("courseDetail").style.display = "block";

      // Render l·∫°i danh s√°ch b√†i t·∫≠p cho kh√≥a hi·ªán t·∫°i
      const sessions = courseData[currentCourse];
      const exerciseList = document.getElementById("exerciseList");
      exerciseList.innerHTML = "";
      sessions.forEach((s, i) => {
        exerciseList.innerHTML += `
          <div class="resource-item">
            <div class="left">
              <a href="#" onclick="openSubmitPanel('${currentCourse}', ${i}); return false;">${s.baiTap}</a>
            </div>
            <div class="right">
              ${s.submitted
                ? `<span class="submitted-tag">‚úÖ ƒê√£ n·ªôp</span>`
                : `<span class="pending-tag">‚è≥ Ch∆∞a n·ªôp</span>`}
            </div>
          </div>`;
      });
    }, 1000);
  };



  // ====== L∆ØU GHI CH√ö ======
  window.saveComment = function () {
    const comment = document.getElementById("commentBox").value.trim();
    if (!comment) return alert("‚ö†Ô∏è B·∫°n ch∆∞a nh·∫≠p ghi ch√∫ n√†o ƒë·ªÉ l∆∞u!");
    if (currentExercise !== null) localStorage.setItem(`comment_${currentExercise}`, comment);
    alert("üí¨ Ghi ch√∫ ƒë√£ ƒë∆∞·ª£c l∆∞u!");
  };

  window.backToCourseDetail = function () {
    document.getElementById("submitPanel").style.display = "none";
    document.getElementById("courseDetail").style.display = "block";
  };

    // ====== QU·∫¢N L√ù TH√îNG TIN ======
  document.querySelector('a[href="#thong-tin"]').addEventListener("click", e => {
    e.preventDefault();

    // ·∫®n c√°c section kh√°c
    document.querySelectorAll(".content-section").forEach(sec => {
      sec.classList.remove("active");
      sec.style.display = "none";
    });

    // Hi·ªán panel th√¥ng tin c√° nh√¢n
    const infoPanel = document.getElementById("infoPanel");
    infoPanel.style.display = "block";
    infoPanel.classList.add("active");
  });

  // ====== L·ªäCH S·ª¨ THANH TO√ÅN ======
  document.querySelector('a[href="#lich-su-thanh-toan"]').addEventListener("click", e => {
    e.preventDefault();

    // ·∫®n t·∫•t c·∫£ c√°c section kh√°c
    document.querySelectorAll(".content-section").forEach(sec => {
      sec.classList.remove("active");
      sec.style.display = "none";
    });

    // Hi·ªán panel l·ªãch s·ª≠ thanh to√°n
    const panel = document.getElementById("paymentHistoryPanel");
    panel.style.display = "block";
    panel.classList.add("active");

    renderPaymentHistory();
  });

  // ====== H√ÄM RENDER B·∫¢NG THANH TO√ÅN ======
  function renderPaymentHistory() {
    const body = document.getElementById("paymentTableBody");
    if (!body) return;

    body.innerHTML = "";
    paymentHistory.forEach((p, i) => {
      body.innerHTML += `
        <tr>
          <td>${i + 1}</td>
          <td>${p.time}</td>
          <td>${p.amount}</td>
          <td>${p.method}</td>
        </tr>`;
    });
  }

  // ====== N√öT QUAY L·∫†I ======
  window.backToHome = function () {
    document.querySelectorAll(".content-section").forEach(sec => {
      sec.classList.remove("active");
      sec.style.display = "none";
    });

    const home = document.getElementById("mypage");
    home.style.display = "block";
    home.classList.add("active");

    // N·∫øu sidebar c√≥ "Trang ch·ªß", ƒë√°nh d·∫•u l·∫°i
    document.querySelectorAll(".side-link").forEach(btn => btn.classList.remove("is-active"));
    const homeBtn = document.querySelector('.side-link[href="#mypage"]');
    if (homeBtn) homeBtn.classList.add("is-active");
  };

    // ====== L∆ØU THAY ƒê·ªîI TH√îNG TIN C√Å NH√ÇN ======
  window.saveUserInfo = function () {
    // L·∫•y d·ªØ li·ªáu ng∆∞·ªùi d√πng nh·∫≠p
    const name = document.querySelector('#infoPanel input[type="text"]:not([disabled])').value.trim();
    const email = document.querySelector('#infoPanel input[type="email"]').value.trim();
    const phone = document.querySelector('#infoPanel input[type="tel"]').value.trim();
    const role = document.querySelector('#infoPanel select').value;

    // Ki·ªÉm tra d·ªØ li·ªáu c∆° b·∫£n
    if (!name || !email || !phone) {
      alert("Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß th√¥ng tin tr∆∞·ªõc khi l∆∞u!");
      return;
    }

    // L∆∞u th√¥ng tin t·∫°m trong localStorage (gi·ªëng nh∆∞ backend gi·∫£ l·∫≠p)
    const updatedInfo = { name, email, phone, role };
    localStorage.setItem("userInfo", JSON.stringify(updatedInfo));

    // Hi·ªÉn th·ªã th√¥ng b√°o
    alert("Th√¥ng tin ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t th√†nh c√¥ng!");

    // Quay l·∫°i trang ch·ªß
    document.querySelectorAll(".content-section").forEach(sec => sec.classList.remove("active"));
    document.getElementById("mypage").classList.add("active");
  };

  // Khi b·∫•m ‚ÄúQu·∫£n l√Ω th√¥ng tin‚Äù trong menu ‚Üí hi·ªÉn th·ªã panel th√¥ng tin
  document.querySelector('a[href="#thong-tin"]').addEventListener("click", e => {
    e.preventDefault();
    document.querySelectorAll(".content-section").forEach(sec => sec.classList.remove("active"));
    document.getElementById("infoPanel").classList.add("active");
  });

};
</script>

</body>
</html>
